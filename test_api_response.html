<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>测试API响应</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h1>测试API响应</h1>
        <button id="testBtn" class="btn btn-primary">测试API响应处理</button>
        <div id="result" class="mt-3"></div>
    </div>

    <script>
        // 模拟API响应处理
        function showResult(data) {
            if (data.code === 200) {
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <div class="alert alert-success">
                        <h4>成功处理API响应</h4>
                        <p>视频标题: ${data.data.text}</p>
                        <p>媒体类型: ${data.data.medias.media_type}</p>
                        <p>资源URL: ${data.data.medias.resource_url}</p>
                        <p>预览URL: ${data.data.medias.preview_url}</p>
                    </div>
                `;
            } else {
                const resultDiv = document.getElementById('result');
                resultDiv.innerHTML = `
                    <div class="alert alert-danger">
                        <h4>处理API响应失败</h4>
                        <p>错误信息: ${data.message}</p>
                    </div>
                `;
            }
        }

        // 测试按钮点击事件
        document.getElementById('testBtn').addEventListener('click', function() {
            // 模拟成功的API响应
            const successResponse = {
                "code": 200,
                "message": "视频下载成功",
                "data": {
                    "text": "当 韩 红 遇 到 旺 仔 小 乔",
                    "medias": {
                        "media_type": "video",
                        "resource_url": "/cache/video_ea285ab5-b1f1-47a5-8621-d9258c00e2a6_5bceaaf4c31586f8ed7789cc0407fc3a.mp4",
                        "preview_url": null
                    }
                },
                "timestamp": "2025-08-08T07:05:21.362779Z"
            };

            showResult(successResponse);
        });
    </script>
</body>
</html>